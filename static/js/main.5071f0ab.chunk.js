(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{26:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(17),s=n.n(i),a=n(5),o=n(2),u=n(82),l=Object(a.b)({key:"nominees",default:new Map}),j=Object(a.c)({key:"nomineeCount",get:function(e){return(0,e.get)(l).size}}),b=(n(26),n(1)),h=u.a.Header,d=u.a.Footer,O=u.a.Content,m={width:"100%",margin:"0 auto"},f=function(){var e=Object(a.d)(l),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)("centered-text red-highlight"),s=Object(o.a)(i,2),j=s[0],f=s[1];return Object(c.useEffect)((function(){f("centered-text red-highlight show-highlight");var e=localStorage.LS_NOMINEES;if(void 0!==e){var t=[];try{t=JSON.parse(e)}catch(n){t=[]}r(new Map(t))}}),[]),Object(c.useEffect)((function(){localStorage.LS_NOMINEES=JSON.stringify(Array.from(n.entries()))}),[n]),Object(b.jsxs)(u.a,{style:m,children:[Object(b.jsx)(h,{children:Object(b.jsx)("div",{className:"flex-center",children:Object(b.jsx)("h1",{className:j,children:"SHOPPIES"})})}),Object(b.jsxs)(O,{children:[Object(b.jsx)(R,{}),Object(b.jsx)(C,{}),Object(b.jsx)(g,{})]}),Object(b.jsx)(d,{children:Object(b.jsx)("h3",{className:"bottom-right-fixed",children:"Created by Connor Dear"})})]})},p=n(21),x=n.n(p),v=(n(57),function(e){var t=e.movie,n=Object(a.d)(l),r=Object(o.a)(n,2),i=r[0],s=r[1],u=Object(c.useCallback)((function(){s((function(e){return x()(e,{$remove:[t.imdbID]})}))}),[t,i]);return Object(b.jsx)("li",{className:"NominationDisplay_li",children:Object(b.jsxs)("div",{className:"NominationDisplay_wrapper",onClick:u,children:["N/A"!==t.Poster?Object(b.jsx)("div",{className:"NominationDisplay_img_wrapper",children:Object(b.jsx)("img",{src:t.Poster,className:"NominationDisplay_img",height:300,width:200})}):Object(b.jsx)("div",{className:"NominationDisplay_filler",children:" "}),Object(b.jsxs)("h3",{className:"centered-text NominationDisplay_title",children:[t.Title," (",t.Year,")"]})]})})}),g=(n(58),function(){var e=Object(a.e)(l),t=Object(a.e)(j);return Object(b.jsx)("div",{className:"NominationsList_wrapper",children:t>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h3",{className:"centered-text NominationsList_heading",children:["Your Nominations (",t,"/",5,")"]}),Object(b.jsx)("p",{className:"centered-text NominationsList_p",children:"(Click to remove)"}),Object(b.jsx)("ul",{className:"NominationsList_ul",children:Array.from(e.values()).map((function(e){return Object(b.jsx)(v,{movie:e},e.imdbID)}))})]}):Object(b.jsx)("h3",{className:"centered-text",children:"Select a movie from the dropdown to begin."})})}),N=n(7),S=n.n(N),y=n(13),w=n(3),_=function e(t){Object(w.a)(this,e),this.imdbID="",this.Title="",this.Poster="",this.Year="",this.Type="",this.Rated="",this.Released="",this.Runtime="",this.Genre="",this.Director="",this.Writer="",this.Actors="",this.Plot="",this.Language="",this.Country="",this.Awards="",this.Ratings=[],this.Metascore="",this.imdbRating="",this.imdbVotes="",this.DVD="",this.BoxOffice="",this.Production="",this.Website="",Object.assign(this,t)},D=(n(59),n(47)),E=n.n(D),k=function(){var e=Object(y.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("https://omdbapi.com/?s=".concat(t,"&type=movie&apikey=46b690a6"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",{Error:"Error connecting to OMDB Database.",Response:"False",Search:[],length:0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e,t,n=Object(a.e)(j),r=function(e,t){var n=Object(c.useState)(e),r=Object(o.a)(n,2),i=r[0],s=r[1],a=Object(c.useState)(e),u=Object(o.a)(a,2),l=u[0],j=u[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){j(i)}),t);return function(){clearTimeout(e)}}),[i,t]),[l,i,s]}("",200),i=Object(o.a)(r,3),s=i[0],u=i[1],l=i[2],h=Object(c.useState)(!1),d=Object(o.a)(h,2),O=d[0],m=d[1],f=Object(c.useState)(!1),p=Object(o.a)(f,2),x=p[0],v=p[1],g=Object(c.useState)([]),N=Object(o.a)(g,2),w=N[0],D=N[1],E=Object(c.useState)(""),C=Object(o.a)(E,2),R=C[0],M=C[1],L=Object(c.useRef)(null),A=Object(c.useRef)(null);e=L,t=function(){return v(!1)},Object(c.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t]),Object(c.useEffect)((function(){var e;null===(e=A.current)||void 0===e||e.focus()}),[]),Object(c.useEffect)((function(){var e;n>=5&&(B(),null===A||void 0===A||null===(e=A.current)||void 0===e||e.blur())}),[n]),Object(c.useEffect)((function(){P(s)}),[s]);var B=function(){m(!1),l(""),D([]),M("")},P=function(){var e=Object(y.a)(S.a.mark((function e(t){var n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",B());case 2:return e.next=4,k(t);case 4:"True"===(n=e.sent).Response&&n.Search.length>0?(M(""),c=n.Search.reduce((function(e,t){return e.set(t.imdbID,new _(t))}),new Map),D(Array.from(c.values()))):(M(n.Error),D([])),m(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{ref:L,className:"flex-center SearchBar_wrapper",children:[Object(b.jsx)("input",{ref:A,className:"SearchBar_input input",value:u,type:"text",onChange:function(e){m(!0),l(e.target.value)},onFocus:function(){return v(!0)},placeholder:'Enter a movie name, e.g. "moonrise kingdom"',disabled:n>=5}),Object(b.jsx)("div",{className:"SearchBar_spinner",id:"loading",style:{opacity:O?1:0}}),Object(b.jsx)("ul",{className:"SearchBar_ul",style:{height:x&&w.length>0?300:R.length>0?40:0},children:w.length>0?w.map((function(e){return Object(b.jsx)(I,{movie:e},e.imdbID)})):Object(b.jsx)("p",{className:"red",children:R})})]})})},R=(n(77),function(){var e=Object(a.e)(j);return Object(b.jsx)("div",{className:"CompletionBanner_wrapper",style:{height:e>=5?100:0,opacity:e>=5?1:0},children:e>=5&&Object(b.jsxs)("p",{className:"ribbon",children:[" ",Object(b.jsxs)("span",{className:"text",children:[Object(b.jsx)("strong",{className:"bold",children:"All Done!"})," You're ready for the red carpet!"]})]})})}),I=(n(78),function(e){var t=e.movie,n=Object(a.d)(l),r=Object(o.a)(n,2),i=r[0],s=r[1],u=Object(c.useState)(!1),j=Object(o.a)(u,2),h=j[0],d=j[1];Object(c.useEffect)((function(){var e=i.has(t.imdbID);e!==h&&d(e)}),[i,t]);var O=Object(c.useCallback)((function(){s((function(e){return x()(e,{$add:[[t.imdbID,t]]})}))}),[t]);return Object(b.jsx)("li",{className:"MSR_li",children:Object(b.jsxs)("button",{className:"MSR_button",onClick:O,disabled:h,children:[Object(b.jsx)("img",{src:t.Poster,height:75,width:50}),Object(b.jsxs)("h4",{className:"MSR_title",children:[t.Title," (",t.Year,")"]})]})})}),M=function(){return Object(b.jsx)(a.a,{children:Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(f,{})})})};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.5071f0ab.chunk.js.map