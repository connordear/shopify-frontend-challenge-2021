(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{26:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(16),a=n.n(i),r=n(5),o=n(2),l=n(82),u=Object(r.b)({key:"nominees",default:new Map}),j=Object(r.c)({key:"nomineeCount",get:function(e){return(0,e.get)(u).size}}),h=(n(26),n(1)),b=l.a.Header,d=l.a.Footer,A=l.a.Content,O={width:"100%",margin:"0 auto"},m=function(){var e=Object(r.d)(u),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)("centered-text red-highlight"),a=Object(o.a)(i,2),j=a[0],m=a[1];return Object(c.useEffect)((function(){m("centered-text red-highlight show-highlight");var e=localStorage.LS_NOMINEES;if(null!==e){var t=[];try{t=JSON.parse(e)}catch(n){t=[]}console.log(t),s(new Map(t))}else console.log("No saved state")}),[]),Object(c.useEffect)((function(){localStorage.LS_NOMINEES=JSON.stringify(Array.from(n.entries()))}),[n]),Object(h.jsxs)(l.a,{style:O,children:[Object(h.jsx)(b,{children:Object(h.jsx)("div",{className:"flex-center",children:Object(h.jsx)("h1",{className:j,children:"SHOPPIES"})})}),Object(h.jsxs)(A,{children:[Object(h.jsx)(D,{}),Object(h.jsx)(y,{}),Object(h.jsx)(x,{})]}),Object(h.jsx)(d,{children:Object(h.jsx)("h3",{className:"bottom-right-fixed",children:"Created by Connor Dear"})})]})},f=n(21),g=n.n(f),p=(n(57),function(e){var t=e.movie,n=Object(r.d)(u),s=Object(o.a)(n,2),i=s[0],a=s[1],l=Object(c.useCallback)((function(){a((function(e){return g()(e,{$remove:[t.imdbID]})}))}),[t,i]);return Object(h.jsx)("li",{className:"NominationDisplay_li",children:Object(h.jsxs)("div",{className:"NominationDisplay_wrapper",onClick:l,children:["N/A"!==t.Poster?Object(h.jsx)("div",{className:"NominationDisplay_img_wrapper",children:Object(h.jsx)("img",{src:t.Poster,className:"NominationDisplay_img",height:300,width:200})}):Object(h.jsx)("div",{className:"NominationDisplay_filler",children:" "}),Object(h.jsxs)("h3",{className:"centered-text NominationDisplay_title",children:[t.Title," (",t.Year,")"]})]})})}),x=(n(58),function(){var e=Object(r.e)(u),t=Object(r.e)(j);return Object(h.jsx)("div",{className:"NominationsList_wrapper",children:t>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{className:"centered-text NominationsList_heading",children:["Your Nominations (",t,"/",5,")"]}),Object(h.jsx)("p",{className:"centered-text NominationsList_p",children:"(Click to remove)"}),Object(h.jsx)("ul",{className:"NominationsList_ul",children:Array.from(e.values()).map((function(e){return Object(h.jsx)(p,{movie:e},e.imdbID)}))})]}):Object(h.jsx)("h3",{className:"centered-text",children:"Select a movie from the dropdown to begin."})})}),v=n(8),N=n.n(v),E=n(19),w=n(47),I=n.n(w),B=n(3),C=function e(t){Object(B.a)(this,e),this.imdbID="",this.Title="",this.Poster="",this.Year="",this.Type="",this.Rated="",this.Released="",this.Runtime="",this.Genre="",this.Director="",this.Writer="",this.Actors="",this.Plot="",this.Language="",this.Country="",this.Awards="",this.Ratings=[],this.Metascore="",this.imdbRating="",this.imdbVotes="",this.DVD="",this.BoxOffice="",this.Production="",this.Website="",Object.assign(this,t)},y=(n(76),function(){var e,t,n=Object(r.e)(j),s=function(e,t){var n=Object(c.useState)(e),s=Object(o.a)(n,2),i=s[0],a=s[1],r=Object(c.useState)(e),l=Object(o.a)(r,2),u=l[0],j=l[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){j(i)}),t);return function(){clearTimeout(e)}}),[i,t]),[u,i,a]}("",200),i=Object(o.a)(s,3),a=i[0],l=i[1],u=i[2],b=Object(c.useState)(!1),d=Object(o.a)(b,2),A=d[0],O=d[1],m=Object(c.useState)(!1),f=Object(o.a)(m,2),g=f[0],p=f[1],x=Object(c.useState)([]),v=Object(o.a)(x,2),w=v[0],B=v[1],y=Object(c.useState)(""),D=Object(o.a)(y,2),Q=D[0],R=D[1],k=Object(c.useRef)(null),_=Object(c.useRef)(null);e=k,t=function(){return p(!1)},Object(c.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t]),Object(c.useEffect)((function(){var e;null===(e=_.current)||void 0===e||e.focus()}),[]),Object(c.useEffect)((function(){var e;n>=5&&(M(),null===_||void 0===_||null===(e=_.current)||void 0===e||e.blur())}),[n]),Object(c.useEffect)((function(){P(a)}),[a]);var M=function(){O(!1),u(""),B([]),R("")},P=function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",M());case 2:I.a.get("https://omdbapi.com/?s=".concat(t,"&type=movie&apikey=46b690a6")).then((function(e){if("True"===e.data.Response&&e.data.Search.length>0){R("");var t=e.data.Search.reduce((function(e,t){return e.set(t.imdbID,new C(t))}),new Map);B(Array.from(t.values()))}else R(e.data.Error),B([]);O(!1)})).catch((function(e){console.log(e),O(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{ref:k,className:"flex-center SearchBar_wrapper",children:[Object(h.jsx)("input",{ref:_,className:"SearchBar_input input",value:l,type:"text",onChange:function(e){O(!0),u(e.target.value)},onFocus:function(){return p(!0)},placeholder:'Enter a movie name, e.g. "moonrise kingdom"',disabled:n>=5}),Object(h.jsx)("div",{className:"SearchBar_spinner",id:"loading",style:{opacity:A?1:0}}),Object(h.jsx)("ul",{className:"SearchBar_ul",style:{height:g&&w.length>0?300:Q.length>0?40:0},children:w.length>0?w.map((function(e){return Object(h.jsx)(S,{movie:e},e.imdbID)})):Object(h.jsx)("p",{className:"red",children:Q})})]})})}),D=(n(77),function(){var e=Object(r.e)(j);return Object(h.jsx)("div",{className:"CompletionBanner_wrapper",style:{height:e>=5?100:0,opacity:e>=5?1:0},children:e>=5&&Object(h.jsxs)("p",{className:"ribbon",children:[" ",Object(h.jsxs)("span",{className:"text",children:[Object(h.jsx)("strong",{className:"bold",children:"All Done!"})," You're ready for the red carpet!"]})]})})}),S=(n(78),function(e){var t=e.movie,n=Object(r.d)(u),s=Object(o.a)(n,2),i=s[0],a=s[1],l=Object(c.useState)(!1),j=Object(o.a)(l,2),b=j[0],d=j[1];Object(c.useEffect)((function(){var e=i.has(t.imdbID);e!==b&&d(e)}),[i,t]);var A=Object(c.useCallback)((function(){a((function(e){return g()(e,{$add:[[t.imdbID,t]]})}))}),[t]);return Object(h.jsx)("li",{className:"MSR_li",children:Object(h.jsxs)("button",{className:"MSR_button",onClick:A,disabled:b,children:[Object(h.jsx)("img",{src:t.Poster.length>0?t.Poster:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAACX0lEQVR4Ae3bAYRUURhH8atmSBtUASAgBhBEAIgCgBWAgBACgCAAwy4hFkBKBRC2aqsCBNiFRARAyoPEywnQU7L79k7zz51zADDXfD/e+Ma7xczMzMzMbBgwAdaLxYb/GAC4VWI5fIIIDj+N4PArEICLQEdbdcAeMAdmyx4+iDCsBzaBaT0AHAeeA4gwuu1FIrwQ4VBtlNoGCDsijK4HZotEeCnC6OZlUQFrwCsRRrVbKhKhvq4ssgHCaxEOVvkXASeANyKEAAYIb0UIAQwQEKEWoCIAEfIAIuQBRMgDiJAHECEPIEIeQIQ8gAh5ABHiACKEAUQIA4gQBhAhDCBCGECEMIAIYQARwgAihAFECAOIEAYQIQwgQhhAhDCACGEAEcIAIsQARBAggCBAAEGAAEL7AFvAnTzCagK8A44BE+BZHmG1AD4DZweffRJ4n0dYDYAfwOXyW8A54EsaYaXfDQUuAX0eoV2AJ8CRfc65AZBHaA/gI3DqgGfd3f8xxtWl3d5sAOAbcH7EWVNgh793e6lXaBsAuFZGBpwGPvBnT4ePsTzC/w+wVXHmDPjKrz4BZ/KXyQMANctW5blXgB74DlzI3+gPAVQsW9UBN4HrZVgeIQUwYtkKlEJIANR/qQYQAgD1y1ZrCAGA+mWrJYQAQP2y1RpCAKB+2WoJIQDQUvUIAoQRBGgdgWwiAJ0IwYBdLIcAzLEcAjADeiyKsIHlEIApsI3FETaBHov/JsyBPaATwfJ/4JkI+UQQAVgvFkN4BEyKRRAeOvwcwgOHn0O4DxwtkUS45/BDAWsO3+ww/QQ+vWAE9qCruwAAAABJRU5ErkJggg==",height:75,width:50}),Object(h.jsxs)("h4",{className:"MSR_title",children:[t.Title," (",t.Year,")"]})]})})}),Q=function(){return Object(h.jsx)(r.a,{children:Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(m,{})})})};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(Q,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.068777f2.chunk.js.map