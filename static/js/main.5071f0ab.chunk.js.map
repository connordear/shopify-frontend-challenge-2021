{"version":3,"sources":["state/nomineesAtom.ts","state/nomineeCountSelector.ts","components/Page.tsx","components/NominationDisplay.tsx","components/NominationsList.tsx","common/constants.ts","types/movie/Movie.ts","common/api.ts","components/SearchBar.tsx","hooks/useOutsideAlerter.ts","hooks/useDebounce.ts","components/CompletionBanner.tsx","components/MovieSearchResult.tsx","App.tsx","index.tsx"],"names":["nomineesAtom","atom","key","default","Map","nomineeCountSelector","selector","get","size","Header","Layout","Footer","Content","layoutStyle","width","margin","Page","useRecoilState","nominees","setNominees","useState","titleClasses","setTitleClasses","useEffect","storedMap","localStorage","LS_NOMINEES","undefined","parsedMap","JSON","parse","err","stringify","Array","from","entries","style","className","NominationDisplay","movie","removeMovie","useCallback","update","$remove","imdbID","onClick","Poster","src","height","Title","Year","NominationsList","useRecoilValue","nomineeCount","values","map","nominee","Movie","movieData","Type","Rated","Released","Runtime","Genre","Director","Writer","Actors","Plot","Language","Country","Awards","Ratings","Metascore","imdbRating","imdbVotes","DVD","BoxOffice","Production","Website","Object","assign","this","queryOmdbByMovieName","searchString","a","axios","res","data","console","log","Error","Response","Search","length","SearchBar","ref","callback","nomineesCount","initialValue","time","value","setValue","debouncedValue","setDebouncedValue","debounce","setTimeout","clearTimeout","useDebounce","debouncedSearchText","searchText","setSearchText","searching","setSearching","displayResults","setDisplayResults","searchResults","setSearchResults","error","setError","wrapperRef","useRef","inputRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","focus","reset","blur","getMoviesByName","omdbResponse","uniqueMovies","reduce","nextMovie","set","type","onChange","e","onFocus","placeholder","disabled","id","opacity","CompletionBanner","MovieSearchResult","alreadyNominated","setAlreadyNominated","nominated","has","addToNominees","$add","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5071f0ab.chunk.js","sourcesContent":["import { atom } from 'recoil';\nimport { Movie } from '../types/movie/Movie';\n\n/**\n * Stores an array of imdbID's for the movies that we have added to our nominees list.\n */\nexport const nomineesAtom = atom<Map<string, Movie>>({\n    key: 'nominees',\n    default: new Map<string, Movie>(),\n});\n","import { selector } from 'recoil';\nimport { nomineesAtom } from './nomineesAtom';\n\nexport const nomineeCountSelector = selector({\n    key: 'nomineeCount',\n    get: ({ get }) => {\n        return get(nomineesAtom).size;\n    },\n});\n","import { Layout } from 'antd';\nimport React, { CSSProperties, FC, useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport { NominationsList, SearchBar, CompletionBanner } from '.';\nimport { nomineesAtom } from '../state';\nimport '../styles/master.css';\nimport { Movie } from '../types';\n\nconst { Header, Footer, Content } = Layout;\nconst layoutStyle: CSSProperties = {\n    width: '100%',\n    margin: '0 auto',\n};\nexport const Page: FC = () => {\n    const [nominees, setNominees] = useRecoilState(nomineesAtom);\n\n    const [titleClasses, setTitleClasses] = useState('centered-text red-highlight');\n\n    useEffect(() => {\n        setTitleClasses('centered-text red-highlight show-highlight');\n        const storedMap = localStorage.LS_NOMINEES;\n        if (storedMap !== undefined) {\n            let parsedMap = [];\n            try {\n                parsedMap = JSON.parse(storedMap);\n            } catch (err) {\n                parsedMap = [];\n            }\n            setNominees(new Map<string, Movie>(parsedMap));\n        }\n    }, []);\n\n    useEffect(() => {\n        localStorage.LS_NOMINEES = JSON.stringify(Array.from(nominees.entries()));\n    }, [nominees]);\n\n    return (\n        <Layout style={layoutStyle}>\n            <Header>\n                <div className={'flex-center'}>\n                    <h1 className={titleClasses}>SHOPPIES</h1>\n                </div>\n            </Header>\n            <Content>\n                <CompletionBanner />\n                <SearchBar />\n                <NominationsList />\n            </Content>\n            <Footer>\n                <h3 className={'bottom-right-fixed'}>Created by Connor Dear</h3>\n            </Footer>\n        </Layout>\n    );\n};\n","import React, { FC, useCallback } from 'react';\nimport { useRecoilState } from 'recoil';\nimport { nomineesAtom } from '../state';\nimport { Movie } from '../types';\nimport update from 'immutability-helper';\nimport '../styles/NominationDisplay.css';\n\ninterface NominationDisplayProps {\n    movie: Movie;\n}\n\nexport const NominationDisplay: FC<NominationDisplayProps> = ({ movie }) => {\n    const [nominees, setNominees] = useRecoilState(nomineesAtom);\n\n    const removeMovie = useCallback(() => {\n        setNominees((nominees) => update(nominees, { $remove: [movie.imdbID] }));\n    }, [movie, nominees]);\n\n    return (\n        <li className={'NominationDisplay_li'}>\n            <div className={'NominationDisplay_wrapper'} onClick={removeMovie}>\n                {movie.Poster !== 'N/A' ? (\n                    <div className={'NominationDisplay_img_wrapper'}>\n                        <img src={movie.Poster} className={'NominationDisplay_img'} height={300} width={200} />\n                    </div>\n                ) : (\n                    <div className={'NominationDisplay_filler'}> </div>\n                )}\n                <h3 className={'centered-text NominationDisplay_title'}>\n                    {movie.Title} ({movie.Year})\n                </h3>\n            </div>\n        </li>\n    );\n};\n","import React, { FC } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { nomineeCountSelector, nomineesAtom } from '../state';\nimport { NominationDisplay } from './NominationDisplay';\nimport { MAX_NOMINEES } from '../common';\nimport '../styles/NominationsList.css';\n\nexport const NominationsList: FC = () => {\n    const nominees = useRecoilValue(nomineesAtom);\n    const nomineeCount = useRecoilValue(nomineeCountSelector);\n    return (\n        <div className={'NominationsList_wrapper'}>\n            {nomineeCount > 0 ? (\n                <>\n                    <h3 className={'centered-text NominationsList_heading'}>\n                        Your Nominations ({nomineeCount}/{MAX_NOMINEES})\n                    </h3>\n                    <p className={'centered-text NominationsList_p'}>(Click to remove)</p>\n                    <ul className={'NominationsList_ul'}>\n                        {Array.from(nominees.values()).map((nominee) => (\n                            <NominationDisplay key={nominee.imdbID} movie={nominee} />\n                        ))}\n                    </ul>\n                </>\n            ) : (\n                <h3 className={'centered-text'}>Select a movie from the dropdown to begin.</h3>\n            )}\n        </div>\n    );\n};\n","export const MAX_NOMINEES = 5;\n","import { Rating } from '../rating/Rating';\nimport { IMovie } from './IMovie';\n\nexport class Movie implements IMovie {\n    imdbID = '';\n    Title = '';\n    Poster = '';\n    Year = '';\n    Type = '';\n    Rated = '';\n    Released = '';\n    Runtime = '';\n    Genre = '';\n    Director = '';\n    Writer = '';\n    Actors = '';\n    Plot = '';\n    Language = '';\n    Country = '';\n    Awards = '';\n    Ratings: Rating[] = [];\n    Metascore = '';\n    imdbRating = '';\n    imdbVotes = '';\n    DVD = '';\n    BoxOffice = '';\n    Production = '';\n    Website = '';\n\n    constructor(movieData: IMovie) {\n        Object.assign(this, movieData);\n    }\n}\n","import axios from 'axios';\nimport { IOmdbResponse } from '../types';\n\nexport const queryOmdbByMovieName = async (searchString: string): Promise<IOmdbResponse> => {\n    try {\n        const res = await axios.get<IOmdbResponse>(`https://omdbapi.com/?s=${searchString}&type=movie&apikey=46b690a6`);\n        return res.data;\n    } catch (e) {\n        console.log(e);\n    }\n    return { Error: 'Error connecting to OMDB Database.', Response: 'False', Search: [], length: 0 };\n};\n","import React, { FC, useEffect, useRef, useState } from 'react';\nimport { useDebounce, useOutsideAlerter } from '../hooks';\nimport { Movie } from '../types';\nimport { MovieSearchResult } from '.';\nimport { MAX_NOMINEES } from '../common';\nimport '../styles/SearchBar.css';\nimport { nomineeCountSelector } from '../state';\nimport { useRecoilValue } from 'recoil';\nimport { queryOmdbByMovieName } from '../common/api';\n\nexport const SearchBar: FC = () => {\n    const nomineesCount = useRecoilValue(nomineeCountSelector);\n    const [debouncedSearchText, searchText, setSearchText] = useDebounce('', 200);\n    const [searching, setSearching] = useState(false);\n    const [displayResults, setDisplayResults] = useState(false);\n    const [searchResults, setSearchResults] = useState<Movie[]>([]);\n    const [error, setError] = useState<string>('');\n\n    const wrapperRef = useRef(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n    useOutsideAlerter(wrapperRef, () => setDisplayResults(false));\n\n    useEffect(() => {\n        inputRef.current?.focus();\n    }, []);\n\n    useEffect(() => {\n        if (nomineesCount >= MAX_NOMINEES) {\n            reset();\n            inputRef?.current?.blur();\n        }\n    }, [nomineesCount]);\n\n    useEffect(() => {\n        getMoviesByName(debouncedSearchText);\n    }, [debouncedSearchText]);\n\n    const reset = () => {\n        setSearching(false);\n        setSearchText('');\n        setSearchResults([]);\n        setError('');\n    };\n\n    const getMoviesByName = async (searchString: string) => {\n        if (searchString.length === 0) return reset();\n        const omdbResponse = await queryOmdbByMovieName(searchString);\n        if (omdbResponse.Response === 'True' && omdbResponse.Search.length > 0) {\n            setError('');\n            // Push into set to avoid duplicates (test \"inc\")\n            const uniqueMovies = omdbResponse.Search.reduce(\n                (map, nextMovie) => map.set(nextMovie.imdbID, new Movie(nextMovie)),\n                new Map<string, Movie>(),\n            );\n            setSearchResults(Array.from(uniqueMovies.values()));\n        } else {\n            setError(omdbResponse.Error);\n            setSearchResults([]);\n        }\n        setSearching(false);\n    };\n\n    const handleInputTextChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setSearching(true);\n        setSearchText(e.target.value);\n    };\n\n    return (\n        <>\n            <div ref={wrapperRef} className={'flex-center SearchBar_wrapper'}>\n                <input\n                    ref={inputRef}\n                    className={'SearchBar_input input'}\n                    value={searchText}\n                    type={'text'}\n                    onChange={handleInputTextChange}\n                    onFocus={() => setDisplayResults(true)}\n                    placeholder={'Enter a movie name, e.g. \"moonrise kingdom\"'}\n                    disabled={nomineesCount >= MAX_NOMINEES}\n                ></input>\n                <div className={'SearchBar_spinner'} id={'loading'} style={{ opacity: searching ? 1 : 0 }}></div>\n                <ul\n                    className={'SearchBar_ul'}\n                    style={{\n                        height: displayResults && searchResults.length > 0 ? 300 : error.length > 0 ? 40 : 0,\n                    }}\n                >\n                    {searchResults.length > 0 ? (\n                        searchResults.map((movie) => <MovieSearchResult key={movie.imdbID} movie={movie} />)\n                    ) : (\n                        <p className={'red'}>{error}</p>\n                    )}\n                </ul>\n            </div>\n        </>\n    );\n};\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport React, { useEffect, RefObject } from 'react';\n\n/**\n * Hook that alerts clicks outside of the passed ref\n */\nexport const useOutsideAlerter = (ref: RefObject<Element>, callback: () => void): void => {\n    useEffect(() => {\n        /**\n         * Alert if clicked on outside of element\n         */\n        function handleClickOutside(event: MouseEvent) {\n            if (ref.current && !ref.current.contains(event.target as Element)) {\n                callback();\n            }\n        }\n\n        // Bind the event listener\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => {\n            // Unbind the event listener on clean up\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [ref, callback]);\n};\n","// SOURCE: https://typeofnan.dev/writing-a-custom-react-usedebounce-hook-with-typescript/\n// (I changed it to fat arrow functions for consistency, but yeah, fat arrows with generics are kinda ugly..)\nimport React, { useEffect, useState } from 'react';\n\nexport const useDebounce = <T>(initialValue: T, time: number): [T, T, React.Dispatch<T>] => {\n    const [value, setValue] = useState<T>(initialValue);\n    const [debouncedValue, setDebouncedValue] = useState<T>(initialValue);\n    useEffect(() => {\n        const debounce = setTimeout(() => {\n            setDebouncedValue(value);\n        }, time);\n        return () => {\n            clearTimeout(debounce);\n        };\n    }, [value, time]);\n\n    return [debouncedValue, value, setValue];\n};\n","import React, { FC } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { nomineeCountSelector } from '../state';\nimport { MAX_NOMINEES } from '../common';\nimport '../styles/CompletionBanner.css';\n\nexport const CompletionBanner: FC = () => {\n    const nomineeCount = useRecoilValue(nomineeCountSelector);\n\n    return (\n        <div\n            className={'CompletionBanner_wrapper'}\n            style={{\n                height: nomineeCount >= MAX_NOMINEES ? 100 : 0,\n                opacity: nomineeCount >= MAX_NOMINEES ? 1 : 0,\n            }}\n        >\n            {nomineeCount >= MAX_NOMINEES && (\n                <p className={'ribbon'}>\n                    {' '}\n                    <span className={'text'}>\n                        <strong className={'bold'}>All Done!</strong> You&apos;re ready for the red carpet!\n                    </span>\n                </p>\n            )}\n        </div>\n    );\n};\n","import React, { FC, useCallback, useEffect, useState } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport { Movie } from '../types';\r\nimport { nomineesAtom } from '../state';\r\nimport update from 'immutability-helper';\r\nimport '../styles/MovieSearchResult.css';\r\ninterface MovieSearchResultProps {\r\n    movie: Movie;\r\n}\r\n\r\nexport const MovieSearchResult: FC<MovieSearchResultProps> = ({ movie }) => {\r\n    const [nominees, setNominees] = useRecoilState(nomineesAtom);\r\n    const [alreadyNominated, setAlreadyNominated] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const nominated = nominees.has(movie.imdbID);\r\n        if (nominated !== alreadyNominated) setAlreadyNominated(nominated);\r\n    }, [nominees, movie]);\r\n\r\n    const addToNominees = useCallback(() => {\r\n        setNominees((nominees) => update(nominees, { $add: [[movie.imdbID, movie]] }));\r\n    }, [movie]);\r\n\r\n    return (\r\n        <li className={'MSR_li'}>\r\n            <button className={'MSR_button'} onClick={addToNominees} disabled={alreadyNominated}>\r\n                <img src={movie.Poster} height={75} width={50} />\r\n                <h4 className={'MSR_title'}>\r\n                    {movie.Title} ({movie.Year})\r\n                </h4>\r\n            </button>\r\n        </li>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\nimport { RecoilRoot } from 'recoil';\nimport { Page } from './components';\nimport './styles/master.css';\n\nconst App: FC = () => {\n    return (\n        <RecoilRoot>\n            <div className=\"App\">\n                <Page />\n            </div>\n        </RecoilRoot>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}